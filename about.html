<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Floating Videos Cursor Reveal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #000;
      overflow: hidden;
      cursor: default;
      font-family: sans-serif;
    }

    #stage {
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    .video-item {
      position: absolute;
      width: 190px;
      aspect-ratio: 16 / 9;
      overflow: hidden;
      border-radius: 14px;
      pointer-events: none;
      will-change: transform, filter;
      transition: filter 0.25s ease;
      filter: grayscale(100%) contrast(1.2) brightness(0.9);
    }

    .video-item.active {
      filter: grayscale(0%) contrast(1) brightness(1);
    }

    .video-item iframe {
      width: 100%;
      height: 100%;
      border: none;
      pointer-events: none;
    }
  </style>
</head>
<body>

<div id="stage"></div>

<script>
/* ==============================
   CONFIG
============================== */

const VIDEO_IDS = [
  "60c1d098633c336b9aa1bf156cffaff6",
  "b9cffa15ac0fe9a76e2105844206ae9e",
  "2dbd7a467c28852c4b0bda6f5548b338",
  "444dfeadade4cc92bd67b33079ad20b1",
  "6c933fc0db225e0aae9537c58c917025",
  "7ba8c716b6997540ca3a1b045119d62a",
  "e977b3c01aae4b32fa1f79b684f94f59",
  "0d839285f84ca2735622faa2de9c8802",
  "96573ba9ecc7bfff33caf52987b4b77e",
  "95f8921709a349fb766be6a2d2f6a8fd",
  "ece845ae8ca18aa6f2c6e442b5120c52"
];

const SUBDOMAIN = "customer-pz1quf3nakoocijj.cloudflarestream.com";

const VIDEO_COUNT = 22;
const ACTIVATION_RADIUS = 140;
const PARALLAX_STRENGTH = 0.04;

/* ==============================
   SETUP
============================== */

const stage = document.getElementById("stage");
const items = [];
let mouseX = window.innerWidth / 2;
let mouseY = window.innerHeight / 2;

/* ==============================
   CREATE VIDEOS
============================== */

for (let i = 0; i < VIDEO_COUNT; i++) {
  const id = VIDEO_IDS[i % VIDEO_IDS.length];

  const div = document.createElement("div");
  div.className = "video-item";

  const iframe = document.createElement("iframe");
  iframe.src = `https://${SUBDOMAIN}/${id}/iframe?autoplay=true&muted=true&loop=true&controls=false`;

  div.appendChild(iframe);
  stage.appendChild(div);

  const x = Math.random() * window.innerWidth;
  const y = Math.random() * window.innerHeight;

  const obj = {
    el: div,
    baseX: x,
    baseY: y
  };

  div.style.left = `${x}px`;
  div.style.top = `${y}px`;

  items.push(obj);
}

/* ==============================
   MOUSE
============================== */

window.addEventListener("mousemove", e => {
  mouseX = e.clientX;
  mouseY = e.clientY;
});

/* ==============================
   ANIMATION LOOP
============================== */

function animate() {
  items.forEach(item => {
    const dx = mouseX - item.baseX;
    const dy = mouseY - item.baseY;
    const dist = Math.hypot(dx, dy);

    const px = dx * PARALLAX_STRENGTH;
    const py = dy * PARALLAX_STRENGTH;

    item.el.style.transform = `translate(${px}px, ${py}px)`;

    if (dist < ACTIVATION_RADIUS) {
      item.el.classList.add("active");
    } else {
      item.el.classList.remove("active");
    }
  });

  requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
